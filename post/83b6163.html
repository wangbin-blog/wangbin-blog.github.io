<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>从“小白”到“大神”，Docker安装使用全攻略 | 小王的博客</title><meta name="keywords" content="docker"><meta name="author" content="Think.Wang"><meta name="copyright" content="Think.Wang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="从“小白”到“大神”，Docker安装使用全攻略"><meta name="application-name" content="从“小白”到“大神”，Docker安装使用全攻略"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="从“小白”到“大神”，Docker安装使用全攻略"><meta property="og:url" content="https://www.huhaha.vip/post/83b6163.html"><meta property="og:site_name" content="小王的博客"><meta property="og:description" content="Docker，简单来说，是一种开源的应用容器引擎 ，可以将应用程序及其依赖环境打包成一个可移植的容器，然后在任何支持 Docker 的环境中运行。它就像是一个超级 “集装箱”，把应用程序以及它运行所需要的各种 “零件”，如代码、运行时环境、系统工具、库文件等等，全部打包在一起 。这样不管这个 “集装"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://gcore.jsdelivr.net/gh/wangbin-blog/pic-resources@main/2025/05/a46fa683984846f482034d04dfab203520250520112607639.webp?_r_=174dffd5-1571-044c-b0a7-1fd704a69c64"><meta property="article:author" content="Think.Wang"><meta property="article:tag" content="技术,编程,前端,后端,开源软件"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://gcore.jsdelivr.net/gh/wangbin-blog/pic-resources@main/2025/05/a46fa683984846f482034d04dfab203520250520112607639.webp?_r_=174dffd5-1571-044c-b0a7-1fd704a69c64"><meta name="description" content="Docker，简单来说，是一种开源的应用容器引擎 ，可以将应用程序及其依赖环境打包成一个可移植的容器，然后在任何支持 Docker 的环境中运行。它就像是一个超级 “集装箱”，把应用程序以及它运行所需要的各种 “零件”，如代码、运行时环境、系统工具、库文件等等，全部打包在一起 。这样不管这个 “集装"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://www.huhaha.vip/post/83b6163.html"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//www.clarity.ms"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="codeva-PE2Ce8iJe7"/><meta name="sogou_site_verification" content="Xa4uoZjWGi"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/./css/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="/./css/fancybox.css" media="print" onload="this.media='all'"><script>(function(c,l,a,r,i,t,y){
    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
})(window, document, "clarity", "script", "riq0f27slc");</script><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: undefined,
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: {"enable":true,"ck":"3NLZ7d4xp5SMAE6r","LingQueMonitorID":"3NLZFMPTG4leu2da"},
  greetingBox: {"enable":true,"default":"晚上好👋","list":[{"greeting":"晚安😴","startTime":0,"endTime":5},{"greeting":"早上好鸭👋, 祝你一天好心情！","startTime":6,"endTime":9},{"greeting":"上午好👋, 状态很好，鼓励一下～","startTime":10,"endTime":10},{"greeting":"11点多啦, 在坚持一下就吃饭啦～","startTime":11,"endTime":11},{"greeting":"午安👋, 宝贝","startTime":12,"endTime":14},{"greeting":"🌈充实的一天辛苦啦！","startTime":14,"endTime":18},{"greeting":"19点喽, 奖励一顿丰盛的大餐吧🍔。","startTime":19,"endTime":19},{"greeting":"晚上好👋, 在属于自己的时间好好放松😌~","startTime":20,"endTime":24}]},
  twikooEnvId: 'https://lucent-taiyaki-b3a4e7.netlify.app/.netlify/functions/twikoo',
  commentBarrageConfig:undefined,
  music_page_default: "nav_music",
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":["🔍 分享与热心帮助","🔨 设计开发一条龙","🤝 专修交互与设计","🏃 脚踏实地行动派","🧱 团队小组发动机","💢 壮汉人狠话不多"]},
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"已经","messageNext":"天没有更新了，这篇文章可能已经过时了。"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    simplehomepage: false,
    post: true
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: Think.Wang","link":"链接: ","source":"来源: 小王的博客","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '小王的博客',
  title: '从“小白”到“大神”，Docker安装使用全攻略',
  postAI: 'Docker，简单来说，是一种开源的应用容器引擎 ，可以将应用程序及其依赖环境打包成一个可移植的容器，然后在任何支持 Docker 的环境中运行。它就像是一个超级 “集装箱”，把应用程序以及它运行所需要的各种 “零件”，如代码、运行时环境、系统工具、库文件等等，全部打包在一起 。这样不管这个 “集装箱” 被运到哪里，只要有能运行它的基础环境，应用程序都能以相同的方式运行，不会因为环境的变化而出现问题。',
  pageFillDescription: '从小白到大神Docker安装使用全攻略, Docker 是什么, 为什么要用 Docker, Docker 安装教程, Windows 系统安装, Linux 系统安装（以 Ubuntu 为例）, MacOS 系统安装, Docker 基本使用, 镜像操作, 容器操作, 数据管理, 实战演练, 项目准备, 编写 Dockerfile, 构建 Docker 镜像, 运行 Docker 容器, 访问 Web 应用, 常见问题及解决方法, 镜像下载缓慢, 容器启动失败, 总结与展望从小白到大神安装使用全攻略是什么简单来说是一种开源的应用容器引擎可以将应用程序及其依赖环境打包成一个可移植的容器然后在任何支持的环境中运行它就像是一个超级集装箱把应用程序以及它运行所需要的各种零件如代码运行时环境系统工具库文件等等全部打包在一起这样不管这个集装箱被运到哪里只要有能运行它的基础环境应用程序都能以相同的方式运行不会因为环境的变化而出现问题和传统的虚拟机相比容器不需要像虚拟机那样为每个应用运行一个完整的操作系统而是直接共享宿主机的操作系统内核这使得它更加轻量级启动速度更快占用的资源也更少在相同的硬件资源下可以部署更多的容器实例从而提高了服务器资源的利用率主要有三大核心概念即镜像容器和仓库镜像可以把它理解成一个只读的模板包含了运行一个特定应用程序所需的所有文件系统内容包括代码运行时环境库依赖项等就像是一个应用程序的快照定义了容器的初始状态例如一个基于的应用程序其镜像会包含解释器应用代码所需的第三方库以及相关的配置文件等容器容器是镜像的运行实例是从镜像创建出来的可运行的实体可以看作是一个轻量级的独立运行的操作系统环境与宿主机以及其他容器相互隔离容器在运行时可以被启动停止暂停等操作每个容器都有自己独立的文件系统网络空间和进程空间等比如基于上述应用的镜像创建的容器就是该应用实际运行的环境它可以接收网络请求并处理业务逻辑仓库仓库是用来存储镜像的地方分为公共仓库和私有仓库公共仓库如提供了大量的官方和社区维护的镜像供用户免费下载和使用私有仓库则通常由企业或组织自己搭建和管理用于存储内部使用的镜像以保证镜像的安全性和私密性为什么要用之所以在近年来如此火爆成为众多开发者和企业的首选是因为它能解决许多传统应用部署方式中存在的痛点为软件开发和运维带来了极大的便利和效率提升下面我们来详细探讨一下为什么要使用环境一致性保障在传统的开发与部署流程中开发测试和生产环境往往存在差异这就导致了常说的在我机器上可以运行但在其他环境中出现故障的问题不同的操作系统版本软件库的安装与配置不同都可能使得应用程序在不同环境中的表现不一致增加了调试和部署的难度而通过将应用程序及其依赖环境打包成一个镜像确保了无论在开发测试还是生产环境中运行环境都是完全一致的只要有支持的运行时应用就能以相同的方式运行大大减少了因环境问题导致的部署失败和调试时间提高了软件的可移植性和可靠性快速部署与扩展容器的启动速度极快通常只需要几秒钟相比传统虚拟机的几分钟启动时间极大地提高了应用的部署速度当业务需求发生变化需要扩展或缩减应用的规模时使用可以轻松实现通过简单的命令就可以快速创建或删除容器实例实现应用的弹性伸缩例如在电商促销活动期间可以快速启动更多的容器来应对突增的流量活动结束后又能及时减少容器数量节省资源成本资源利用率高传统的虚拟化技术需要为每个应用运行一个完整的操作系统这会占用大量的系统资源包括内存等而容器共享宿主机的操作系统内核不需要额外的操作系统层因此资源占用小在相同的硬件资源下可以部署更多的容器实例从而提高了服务器资源的利用率降低了硬件成本易于管理和维护提供了统一的镜像管理和容器管理方式通过简单的命令就可以对镜像和容器进行创建删除启动停止查看状态等操作使得应用的管理和维护变得更加简单和高效同时还支持版本控制开发者可以为不同版本的镜像打上标签方便管理和追踪当新版本的应用出现问题时可以快速回滚到之前的稳定版本为了更直观地感受的优势我们来看一个具体的案例假设有一个开发团队正在开发一个基于微服务架构的电商平台该平台包含用户服务商品服务订单服务等多个微服务在传统的部署方式下每个微服务都需要单独配置运行环境安装相应的依赖项这是一个繁琐且容易出错的过程而且不同微服务之间可能会因为依赖项的冲突或环境配置的差异而出现问题使用后每个微服务都可以被打包成一个独立的容器这些容器之间相互隔离互不影响开发团队可以在本地开发环境中轻松地创建和管理这些容器确保每个微服务都能正常运行在部署到生产环境时只需要将这些容器镜像推送到生产服务器上然后使用简单的命令就可以启动所有的微服务容器大大缩短了部署时间提高了部署的可靠性当某个微服务需要升级或修复时只需要更新对应的容器镜像然后重新启动容器即可不会影响到其他微服务的正常运行安装教程了解了的强大功能后接下来我们就进入实战环节看看如何在不同的操作系统上安装系统安装在系统下我们可以通过安装来使用是一个用于在上轻松构建管理和运行容器化应用程序的工具它集成了引擎客户端和等组件具体安装步骤如下检查系统要求确保你的系统满足以下条件位专业版企业版或教育版或位处理器支持虚拟化或至少内存你可以通过运行命令来查看系统信息确认是否支持虚拟化在输出结果中找到部分如果虚拟化已启用显示为是则说明系统支持虚拟化若为否则需要进入或设置中启用虚拟化功能不同品牌的计算机进入的方式可能不同一般在开机时按下等键具体按键可参考计算机的用户手册在设置中找到或选项将其设置为启用然后保存并退出安装是的一个功能允许你在上运行二进制可执行文件依赖作为后端引擎因此需要先安装以管理员身份运行执行命令该命令会自动安装最新版本的及其核心组件并设置为默认版本安装完成后重启计算机如果执行命令时提示错误可能是因为系统版本不支持或其他原因你可以尝试手动安装具体步骤如下首先下载适用于的内核更新包下载地址下载完成后运行安装包进行安装然后以管理员身份运行执行命令设置为默认版本下载访问官网下载页面点击按钮下载最新版本的安装程序安装找到下载的安装文件通常在下载文件夹中双击安装文件启动安装向导在安装过程中按照提示进行操作建议保留默认设置在页面确保选择选项以使用作为容器后端安装完成后可能需要重启计算机验证安装打开命令提示符或输入命令验证是否安装成功如果安装成功该命令将输出当前安装的版本信息例如你还可以运行命令来测试是否正常工作该命令会从下载一个测试镜像并在容器中运行它如果一切顺利你将看到的输出信息表明已成功安装并可以正常使用在安装过程中可能会遇到一些问题比如虚拟化未开启缺少工具等针对这些问题可以参考以下解决方案虚拟化未开启如果在安装时提示虚拟化未开启按照上述检查系统要求步骤中提到的方法进入或设置中启用虚拟化功能缺少工具如果提示缺少工具按照上述安装步骤中提到的方法安装安装过程中出现其他错误如果在安装过程中出现其他错误可以查看的安装日志日志文件位于你的用户名目录下根据日志文件中的错误信息在官方文档或社区论坛中查找解决方案系统安装以为例在系统中安装也非常简单只需要几个命令即可完成以下是具体的安装步骤更新软件包列表在安装之前首先需要更新系统的软件包列表以获取最新的软件包信息打开终端运行以下命令安装依赖依赖一些必要的软件包我们需要先安装它们运行以下命令其中允许包管理器通过协议与软件源进行通信包含了根证书用于验证连接的安全性是一个命令行工具用于通过下载文件是一个用于加密和签名的工具用于显示系统的发行版信息添加密钥为了确保从官方仓库下载的软件包的完整性和安全性我们需要添加官方的密钥运行以下命令添加软件源将官方的软件源添加到系统的软件源列表中以便系统能够从该源下载软件包运行以下命令再次更新软件包列表添加软件源后需要再次更新软件包列表使系统能够识别新添加的软件源运行以下命令安装引擎现在可以安装引擎了运行以下命令其中是社区版的核心引擎是的命令行工具是一个开源的容器运行时是用于定义和运行多容器应用程序的插件验证安装安装完成后可以通过查看的版本信息和运行测试镜像来验证安装是否成功运行以下命令查看版本信息运行以下命令运行测试镜像如果安装成功运行命令会输出的版本号运行命令会下载一个测试镜像并在容器中运行它输出等信息系统安装在系统上我们同样可以通过安装来使用以下是具体的安装步骤下载打开浏览器访问官网下载页面点击按钮下载最新版本的安装程序安装下载完成后双击下载的文件将图标拖放到应用程序文件夹中完成安装启动打开应用程序文件夹找到并双击打开首次启动时可能会要求输入你的账号密码以授权基本配置启动后可以根据自己的需求进行一些基本配置点击菜单栏中的图标选择在弹出的窗口中可以进行以下配置在这里可以分配给的内存和磁盘空间等资源根据实际需求合理调整这些参数以确保能够在你的系统上稳定运行例如如果你的项目对内存要求较高可以适当增加分配给的内存大小设置的网络模式默认情况下会创建一个桥接网络容器可以通过该网络与主机和其他容器进行通信如果你的项目有特殊的网络需求也可以在这里进行自定义设置手动配置引擎的设置一般情况下保持默认设置即可但如果你对的运行机制有深入了解并且有特定的配置需求也可以在这里进行修改验证安装打开终端输入命令验证是否安装成功如果安装成功该命令将输出当前安装的版本信息你还可以运行命令来测试是否正常工作如果一切顺利你将看到的输出信息表明已成功安装并可以正常使用基本使用在掌握了的安装方法后接下来让我们深入了解的基本使用方法包括镜像操作容器操作和数据管理等方面这些操作是使用进行应用部署和管理的基础镜像操作下载镜像是一个公共的镜像仓库我们可以使用命令从下载镜像例如要下载最新版本的镜像可以执行以下命令在上述命令中如果不指定具体的版本标签命令会默认下载镜像的标签版本即最新版本如果需要下载特定版本的镜像可以在镜像名称后加上版本标签例如下载的版本镜像命令如下构建自定义镜像当官方提供的镜像无法满足我们的需求时就需要基于来构建自定义镜像是一个文本文件其中包含了一系列用于构建镜像的指令和操作步骤例如我们要构建一个基于的应用镜像假设的内容如下使用官方镜像作为基础镜像设置工作目录为将当前目录下的所有文件复制到容器的目录中安装项目依赖假设项目依赖文件为暴露容器的端口用于应用的访问设置容器启动时执行的命令假设启动应用的命令为在包含上述的目录下执行以下命令来构建镜像在这个命令中参数用于指定镜像的标签格式为仓库名镜像名标签这里就是我们给镜像指定的名称和标签最后的表示构建上下文为当前目录即所在的目录会在这个目录及其子目录中查找构建镜像所需的文件查看本地镜像列表使用命令可以查看本地已经下载或构建的镜像列表命令执行结果会显示镜像的仓库名标签镜像创建时间和大小等信息例如执行上述命令后可能得到类似如下的输出从输出结果中我们可以清晰地看到本地已有的镜像信息方便我们对镜像进行管理和使用删除镜像当某个镜像不再需要时可以使用命令将其删除例如要删除这个镜像可以执行以下命令如果要删除多个镜像可以在命令后依次列出镜像的名称和标签或者使用镜像进行删除需要注意的是如果某个镜像正在被容器使用直接删除该镜像会失败需要先停止并删除依赖该镜像的容器然后才能删除镜像容器操作创建并运行容器使用命令可以创建并运行一个容器该命令的基本语法为其中是可选参数是指定的镜像名称是容器启动时要执行的命令是传递给命令的参数例如基于镜像创建并运行一个容器将容器的端口映射到主机的端口命令如下在这个命令中参数表示以守护后台模式运行容器容器会在后台运行不会占用当前终端表示将主机的端口映射到容器的端口这样通过访问主机的端口就可以访问到容器内服务的端口为容器指定一个名称方便后续对容器进行管理和操作是要使用的镜像名称查看正在运行的容器使用命令可以查看当前正在运行的容器列表命令执行结果会显示容器的使用的镜像启动命令创建时间状态端口映射和容器名称等信息例如执行上述命令后可能得到类似如下的输出从输出结果中我们可以清楚地了解正在运行的容器的各项信息如果要查看所有容器包括已停止的容器可以使用命令停止容器当需要停止正在运行的容器时可以使用命令后面跟上容器的或名称例如停止名为的容器命令如下执行该命令后容器会被优雅地停止即容器内的应用程序会收到停止信号有机会进行一些清理工作后再停止运行启动已停止的容器对于已经停止的容器可以使用命令来重新启动它同样后面跟上容器的或名称例如启动名为的容器命令如下进入正在运行的容器内部有时候我们需要进入正在运行的容器内部执行一些命令或进行调试等操作可以使用命令例如进入名为的容器并启动一个交互式的命令如下在这个命令中参数表示保持标准输入流打开允许我们向容器内输入命令参数表示为容器分配一个伪终端使我们能够在终端中与容器进行交互执行上述命令后我们就可以在容器内部执行各种命令就像在容器所在的主机上操作一样数据管理数据卷的概念和作用在中容器的存储是临时的当容器被删除时容器内的数据也会随之丢失为了解决数据持久化存储和共享的问题引入了数据卷的概念数据卷是一个可供容器使用的特殊目录它将主机操作系统目录直接映射进容器或者由管理一个存储区域并挂载到容器中数据卷具有以下特点数据持久化即使容器被删除数据卷中的数据仍然会保留不会丢失容器间共享多个容器可以挂载同一个数据卷实现数据的共享和传递读写性能高数据卷直接绕过对数据卷的读写操作性能较高创建数据卷使用命令可以创建一个数据卷例如创建一个名为的数据卷命令如下执行该命令后会在主机上创建一个用于存储数据卷的目录并生成一个唯一的数据卷我们可以使用命令查看所有已创建的数据卷列表使用命令查看指定数据卷的详细信息包括数据卷的名称驱动挂载点等挂载数据卷到容器在使用命令创建容器时可以通过或参数将数据卷挂载到容器中例如创建一个基于镜像的容器并将名为的数据卷挂载到容器的目录下命令如下或者使用参数的方式这两种方式的效果是相同的都是将数据卷挂载到容器的目录使得容器内该目录下的数据实际上存储在数据卷中这样当容器被删除并重新创建时只要挂载相同的数据卷容器内目录下的数据仍然会保留同时如果有多个容器都挂载了同一个数据卷它们之间就可以共享该数据卷中的数据实战演练为了更直观地感受的强大功能和便捷性我们通过一个具体的实战案例来深入了解它的使用方法在这个案例中我们将使用部署一个简单的应用是一个轻量级的框架非常适合用于快速开发小型应用通过这个实战你将掌握如何使用构建运行和管理一个应用容器项目准备创建项目目录首先在你的计算机上创建一个新的项目目录例如并进入该目录初始化虚拟环境可选为了避免项目依赖与系统环境冲突建议在项目目录下创建一个虚拟环境如果你还没有安装可以使用以下命令进行安装假设你已经安装了创建并激活虚拟环境下使用安装在激活的虚拟环境中使用安装编写应用代码使用你喜欢的文本编辑器在项目目录下创建一个名为的文件并编写以下应用代码这段代码创建了一个简单的应用定义了一个根路由当访问该路由时返回表示应用监听在地址的端口上这样可以通过宿主机的地址和端口来访问该应用编写接下来我们需要编写一个来定义如何构建我们的镜像在项目目录下创建一个名为的文件注意文件名大小写且没有文件扩展名并写入以下内容使用官方镜像作为基础镜像设置工作目录为将当前目录下的所有文件复制到容器的目录中安装项目依赖假设项目依赖文件为这里直接安装暴露容器的端口用于应用的访问设置容器启动时执行的命令运行应用这个的具体解释如下指定使用官方的精简版镜像作为基础镜像该镜像包含了运行环境且体积相对较小设置容器内的工作目录为后续的操作将在这个目录下进行将当前目录即项目目录下的所有文件复制到容器的目录中在容器内运行命令安装及其依赖项声明容器内的应用将监听端口这只是一个声明并不实际进行端口映射指定容器启动时执行的命令这里是运行文件来启动应用构建镜像在包含和的项目目录下打开终端执行以下命令来构建镜像在这个命令中参数用于指定镜像的标签格式为仓库名镜像名标签这里我们将镜像命名为并使用默认的标签最后的表示构建上下文为当前目录即所在的目录会在这个目录及其子目录中查找构建镜像所需的文件执行构建命令后会读取中的指令逐步构建镜像在构建过程中你会看到一系列的输出信息显示每个步骤的执行情况如果构建成功最终会显示表示镜像构建完成并打上了的标签运行容器镜像构建完成后我们可以使用命令来运行容器在终端中执行以下命令这个命令的参数解释如下表示以守护后台模式运行容器容器会在后台运行不会占用当前终端将主机的端口映射到容器的端口这样通过访问主机的端口就可以访问到容器内应用监听的端口为容器指定一个名称方便后续对容器进行管理和操作指定要运行的镜像名称执行上述命令后会从镜像创建一个容器并运行它你可以使用命令查看正在运行的容器列表确认容器是否成功启动如果容器启动成功在的输出中你会看到容器正在运行并且端口映射为访问应用现在打开你的浏览器在地址栏中输入如果一切顺利你将看到浏览器页面上显示这表明我们使用部署的应用已经成功运行通过这个实战案例我们展示了使用部署一个简单应用的完整过程包括项目准备编写构建镜像和运行容器希望这个案例能帮助你更好地理解和掌握的基本使用方法为你在实际项目中应用打下坚实的基础常见问题及解决方法在安装和使用的过程中可能会遇到一些问题下面为大家整理了一些常见问题及对应的解决方法镜像下载缓慢问题描述在使用命令下载镜像时速度非常慢甚至可能会出现下载超时的情况原因分析默认使用的是国外的官方镜像源由于网络原因国内访问可能会受到限制导致下载速度缓慢解决方法可以通过配置国内的镜像加速器来提高镜像下载速度常见的国内镜像加速器有阿里云镜像加速器网易云镜像加速器中科大镜像加速器等以阿里云镜像加速器为例配置步骤如下系统打开点击任务栏中的图标选择在弹出的窗口中选择选项卡在字段中添加阿里云提供的专属镜像加速地址需要先登录阿里云容器镜像服务获取格式如下添加完成后点击右下角的按钮会自动重启并应用新的镜像源配置系统首先创建或编辑的配置文件如果文件不存在则创建添加以下内容然后保存文件并执行以下命令使配置生效配置完成后可以使用命令查看配置是否生效在输出信息中找到字段确认其值为配置的镜像加速地址之后再使用命令下载镜像速度应该会有明显提升容器启动失败问题描述使用命令启动容器时容器无法正常启动可能会出现报错信息原因分析容器启动失败的原因可能有很多常见的包括镜像损坏容器配置错误端口冲突依赖服务未启动等解决方法检查镜像完整性首先使用命令查看本地镜像列表确认要启动容器的镜像是否存在且完整如果镜像损坏可以尝试重新下载或重新构建镜像例如如果怀疑镜像有问题可以先删除该镜像然后重新下载检查容器配置仔细检查命令的参数是否正确例如端口映射是否合理容器名称是否重复等如果使用了构建镜像并启动容器还要检查中的指令是否正确例如工作目录是否设置正确应用启动命令是否正确等检查端口冲突如果在启动容器时指定了端口映射如而该端口在主机上已经被其他进程占用就会导致容器启动失败可以使用命令或命令检查端口占用情况以命令为例在系统中可以执行命令查看端口的占用情况如果发现端口被占用可以修改容器的端口映射或者停止占用该端口的进程检查依赖服务如果容器依赖其他服务如数据库消息队列等确保这些依赖服务已经正常启动并可以被容器访问例如一个应用容器可能依赖数据库在启动应用容器之前要确保数据库已经正常运行并且应用容器的数据库连接配置正确可以通过在容器内使用命令或其他工具测试对依赖服务的连通性如果是因为依赖服务未启动导致容器启动失败先启动依赖服务然后再尝试启动容器总结与展望通过本文我们全面了解了这一强大的容器化技术从它的基本概念安装方法到镜像操作容器管理以及数据卷的使用还通过一个应用的实战案例完整地体验了使用进行应用部署的流程同时我们也探讨了在使用过程中可能遇到的问题及解决办法的出现极大地改变了传统的应用部署和运维模式它以其环境一致性快速部署高效资源利用等优势成为了现代软件开发和运维的必备工具无论是开发个人项目还是构建企业级的大型应用都能为我们提供更加便捷高效的解决方案对于各位读者希望你们能将所学的知识运用到实际项目中在实践的过程中不断探索的更多高级特性和应用场景例如使用进行多容器应用的编排结合实现容器的自动化管理和集群部署等相信随着对的深入了解和使用它会为你的工作和学习带来意想不到的便利和效率提升展望未来随着云计算大数据人工智能等技术的不断发展作为容器化技术的代表将在这些领域发挥更加重要的作用在云计算中将助力实现更加灵活高效的云原生应用部署和管理在大数据处理中可以为不同的数据处理框架和工具提供统一的运行环境提高数据处理的效率和可靠性在人工智能领域能够方便地部署和管理深度学习模型加速模型的训练和推理过程可以预见的应用前景将更加广阔它将继续推动技术的创新和发展让我们一起期待在未来带给我们更多的惊喜注文档部分内容可能由生成',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-07-25 19:06:48',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://raw.gitmirror.com/wangbin-blog/pic-resources/main/2024/10/avatar.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="/./css/progress_bar.css"/><script async="async" src="/./js/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://www.huhaha.vip/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.gitmirror.com/wangbin-blog/pic-resources/main/2024/10/avatar.jpg" alt="博客"/><span class="back-menu-item-text">博客</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://nav.huhaha.vip/" title="导航"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.gitmirror.com/wangbin-blog/pic-resources/main/2024/10/avatar.jpg" alt="导航"/><span class="back-menu-item-text">导航</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://movies.huhaha.vip/" title="娱乐"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.gitmirror.com/wangbin-blog/pic-resources/main/2024/10/avatar.jpg" alt="娱乐"/><span class="back-menu-item-text">娱乐</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://docs.anheyu.com/" title="安知鱼主题"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼主题"/><span class="back-menu-item-text">安知鱼主题</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">小王的博客</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/AI/" style="font-size: 1.05rem;">AI<sup>28</sup></a><a href="/tags/DotNet/" style="font-size: 1.05rem;">DotNet<sup>7</sup></a><a href="/tags/Hexo/" style="font-size: 1.05rem;">Hexo<sup>5</sup></a><a href="/tags/Linux/" style="font-size: 1.05rem;">Linux<sup>14</sup></a><a href="/tags/MACCMS/" style="font-size: 1.05rem;">MACCMS<sup>2</sup></a><a href="/tags/docker/" style="font-size: 1.05rem;">docker<sup>2</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 1.05rem;">前端<sup>5</sup></a><a href="/tags/%E5%A8%B1%E4%B9%90/" style="font-size: 1.05rem;">娱乐<sup>7</sup></a><a href="/tags/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/" style="font-size: 1.05rem;">实用工具<sup>4</sup></a><a href="/tags/%E5%B0%8F%E6%8A%80%E5%B7%A7/" style="font-size: 1.05rem;">小技巧<sup>2</sup></a><a href="/tags/%E5%B0%8F%E8%AF%B4/" style="font-size: 1.05rem;">小说<sup>2</sup></a><a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 1.05rem;">工具<sup>51</sup></a><a href="/tags/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" style="font-size: 1.05rem;">开发工具<sup>5</sup></a><a href="/tags/%E5%BD%B1%E8%A7%86/" style="font-size: 1.05rem;">影视<sup>4</sup></a><a href="/tags/%E6%BC%AB%E7%94%BB/" style="font-size: 1.05rem;">漫画<sup>2</sup></a><a href="/tags/%E7%B3%BB%E7%BB%9F%E7%BE%8E%E5%8C%96/" style="font-size: 1.05rem;">系统美化<sup>1</sup></a><a href="/tags/%E9%9F%B3%E4%B9%90/" style="font-size: 1.05rem;">音乐<sup>2</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/08/"><span class="card-archive-list-date">八月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/07/"><span class="card-archive-list-date">七月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">7</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/06/"><span class="card-archive-list-date">六月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/05/"><span class="card-archive-list-date">五月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">36</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/12/"><span class="card-archive-list-date">十二月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/10/"><span class="card-archive-list-date">十月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">7</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">九月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">八月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/docker/" itemprop="url">docker</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/docker/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>docker</span></a></span></div></div><h1 class="post-title" itemprop="name headline">从“小白”到“大神”，Docker安装使用全攻略</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-07-25T11:01:01.114Z" title="发表于 2025-07-25 19:01:01">2025-07-25</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-07-25T11:06:48.705Z" title="更新于 2025-07-25 19:06:48">2025-07-25</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">9.4k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>30分钟</span></span><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="从“小白”到“大神”，Docker安装使用全攻略"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为北京"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>北京</span></div></div></div><div class="post-ai-description"><div class="ai-title"><i class="anzhiyufont anzhiyu-icon-bilibili"></i><div class="ai-title-text">AI-摘要</div><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right"></i><i class="anzhiyufont anzhiyu-icon-circle-dot" title="朗读摘要"></i><div id="ai-tag">AnZhiYu GPT</div></div><div class="ai-explanation">AI初始化中...</div><div class="ai-btn-box"><div class="ai-btn-item">介绍自己 🙈</div><div class="ai-btn-item">生成本文简介 👋</div><div class="ai-btn-item">推荐相关文章 📖</div><div class="ai-btn-item">前往主页 🏠</div><div class="ai-btn-item" id="go-tianli-blog">前往爱发电购买</div></div><script data-pjax src="/js/anzhiyu/ai_abstract.js"></script></div><article class="post-content" id="article-container" itemscope itemtype="https://www.huhaha.vip/post/83b6163.html"><header><a class="post-meta-categories" href="/categories/docker/" itemprop="url">docker</a><a href="/tags/docker/" tabindex="-1" itemprop="url">docker</a><h1 id="CrawlerTitle" itemprop="name headline">从“小白”到“大神”，Docker安装使用全攻略</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">Think.Wang</span><time itemprop="dateCreated datePublished" datetime="2025-07-25T11:01:01.114Z" title="发表于 2025-07-25 19:01:01">2025-07-25</time><time itemprop="dateCreated datePublished" datetime="2025-07-25T11:06:48.705Z" title="更新于 2025-07-25 19:06:48">2025-07-25</time></header><h1 id="从“小白”到“大神”，Docker安装使用全攻略"><a href="#从“小白”到“大神”，Docker安装使用全攻略" class="headerlink" title="从“小白”到“大神”，Docker安装使用全攻略"></a>从“小白”到“大神”，Docker安装使用全攻略</h1><h2 id="Docker-是什么"><a href="#Docker-是什么" class="headerlink" title="Docker 是什么"></a>Docker 是什么</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://gcore.jsdelivr.net/gh/wangbin-blog/pic-resources@main/2025/07/009dab7756074e66af44eed1c912f36ed0be9584-4b4d-4460-892a-b1022ac72a9f_1753441077954019004_origin~tplv-a9rns2rl98-image-qvalue.jpeg" alt="d0be9584-4b4d-4460-892a-b1022ac72a9f_1753441077954019004_origin~tplv-a9rns2rl98-image-qvalue"></p>
<p>Docker，简单来说，是一种开源的应用容器引擎 ，可以将应用程序及其依赖环境打包成一个可移植的容器，然后在任何支持 Docker 的环境中运行。它就像是一个超级 “集装箱”，把应用程序以及它运行所需要的各种 “零件”，如代码、运行时环境、系统工具、库文件等等，全部打包在一起 。这样不管这个 “集装箱” 被运到哪里，只要有能运行它的基础环境，应用程序都能以相同的方式运行，不会因为环境的变化而出现问题。</p>
<p>和传统的虚拟机相比，Docker 容器不需要像虚拟机那样为每个应用运行一个完整的操作系统，而是直接共享宿主机的操作系统内核 ，这使得它更加轻量级，启动速度更快，占用的资源也更少。在相同的硬件资源下，可以部署更多的容器实例，从而提高了服务器资源的利用率。</p>
<p>Docker 主要有三大核心概念，即镜像（Image）、容器（Container）和仓库（Repository）：</p>
<ul>
<li><p><strong>镜像</strong>：可以把它理解成一个只读的模板，包含了运行一个特定应用程序所需的所有文件系统内容，包括代码、运行时环境、库、依赖项等，就像是一个应用程序的 “快照”，定义了容器的初始状态。例如，一个基于 Python 的 Web 应用程序，其镜像会包含 Python 解释器、应用代码、所需的第三方库以及相关的配置文件等。</p>
</li>
<li><p><strong>容器</strong>：容器是镜像的运行实例，是从镜像创建出来的可运行的实体，可以看作是一个轻量级的、独立运行的操作系统环境，与宿主机以及其他容器相互隔离 。容器在运行时可以被启动、停止、暂停等操作，每个容器都有自己独立的文件系统、网络空间和进程空间等。比如，基于上述 Python Web 应用的镜像创建的容器，就是该应用实际运行的环境，它可以接收网络请求并处理业务逻辑。</p>
</li>
<li><p><strong>仓库</strong>：Docker 仓库是用来存储镜像的地方，分为公共仓库和私有仓库 。公共仓库如 Docker Hub，提供了大量的官方和社区维护的镜像，供用户免费下载和使用；私有仓库则通常由企业或组织自己搭建和管理，用于存储内部使用的镜像，以保证镜像的安全性和私密性。</p>
</li>
</ul>
<h2 id="为什么要用-Docker"><a href="#为什么要用-Docker" class="headerlink" title="为什么要用 Docker"></a>为什么要用 Docker</h2><p>Docker 之所以在近年来如此火爆，成为众多开发者和企业的首选，是因为它能解决许多传统应用部署方式中存在的痛点，为软件开发和运维带来了极大的便利和效率提升 。下面我们来详细探讨一下为什么要使用 Docker。</p>
<ul>
<li><p><strong>环境一致性保障</strong>：在传统的开发与部署流程中，开发、测试和生产环境往往存在差异，这就导致了常说的 “在我机器上可以运行” 但在其他环境中出现故障的问题。不同的操作系统版本、软件库的安装与配置不同，都可能使得应用程序在不同环境中的表现不一致，增加了调试和部署的难度 。而 Docker 通过将应用程序及其依赖环境打包成一个镜像，确保了无论在开发、测试还是生产环境中，运行环境都是完全一致的。只要有支持 Docker 的运行时，应用就能以相同的方式运行，大大减少了因环境问题导致的部署失败和调试时间，提高了软件的可移植性和可靠性 。</p>
</li>
<li><p><strong>快速部署与扩展</strong>：Docker 容器的启动速度极快，通常只需要几秒钟，相比传统虚拟机的几分钟启动时间，极大地提高了应用的部署速度。当业务需求发生变化，需要扩展或缩减应用的规模时，使用 Docker 可以轻松实现。通过简单的命令，就可以快速创建或删除容器实例，实现应用的弹性伸缩。例如，在电商促销活动期间，可以快速启动更多的容器来应对突增的流量；活动结束后，又能及时减少容器数量，节省资源成本 。</p>
</li>
<li><p><strong>资源利用率高</strong>：传统的虚拟化技术需要为每个应用运行一个完整的操作系统，这会占用大量的系统资源，包括内存、CPU 等 。而 Docker 容器共享宿主机的操作系统内核，不需要额外的操作系统层，因此资源占用小，在相同的硬件资源下，可以部署更多的容器实例，从而提高了服务器资源的利用率，降低了硬件成本 。</p>
</li>
<li><p><strong>易于管理和维护</strong>：Docker 提供了统一的镜像管理和容器管理方式，通过简单的命令，就可以对镜像和容器进行创建、删除、启动、停止、查看状态等操作，使得应用的管理和维护变得更加简单和高效 。同时，Docker 还支持版本控制，开发者可以为不同版本的镜像打上标签，方便管理和追踪。当新版本的应用出现问题时，可以快速回滚到之前的稳定版本 。</p>
</li>
</ul>
<p>为了更直观地感受 Docker 的优势，我们来看一个具体的案例。假设有一个开发团队正在开发一个基于微服务架构的电商平台，该平台包含用户服务、商品服务、订单服务等多个微服务 。在传统的部署方式下，每个微服务都需要单独配置运行环境，安装相应的依赖项，这是一个繁琐且容易出错的过程。而且，不同微服务之间可能会因为依赖项的冲突或环境配置的差异而出现问题 。使用 Docker 后，每个微服务都可以被打包成一个独立的容器，这些容器之间相互隔离，互不影响。开发团队可以在本地开发环境中轻松地创建和管理这些容器，确保每个微服务都能正常运行 。在部署到生产环境时，只需要将这些容器镜像推送到生产服务器上，然后使用简单的命令就可以启动所有的微服务容器，大大缩短了部署时间，提高了部署的可靠性 。当某个微服务需要升级或修复时，只需要更新对应的容器镜像，然后重新启动容器即可，不会影响到其他微服务的正常运行 。</p>
<h2 id="Docker-安装教程"><a href="#Docker-安装教程" class="headerlink" title="Docker 安装教程"></a>Docker 安装教程</h2><p>了解了 Docker 的强大功能后，接下来我们就进入实战环节，看看如何在不同的操作系统上安装 Docker。</p>
<h3 id="Windows-系统安装"><a href="#Windows-系统安装" class="headerlink" title="Windows 系统安装"></a>Windows 系统安装</h3><p>在 Windows 系统下，我们可以通过安装 Docker Desktop 来使用 Docker。Docker Desktop 是一个用于在 Windows 上轻松构建、管理和运行容器化应用程序的工具，它集成了 Docker 引擎、CLI 客户端和 Kubernetes 等组件 。</p>
<p>具体安装步骤如下：</p>
<ol>
<li><p><strong>检查系统要求</strong>：确保你的 Windows 系统满足以下条件：Windows 10 64 位（专业版、企业版或教育版）或 Windows 11；64 位处理器，支持虚拟化（Intel VT-x 或 AMD-V）；至少 4GB 内存 。你可以通过运行<code>systeminfo</code>命令来查看系统信息，确认是否支持虚拟化。在输出结果中，找到 “Hyper-V Requirements” 部分，如果 “虚拟化已启用” 显示为 “是”，则说明系统支持虚拟化；若为 “否”，则需要进入 BIOS 或 UEFI 设置中启用虚拟化功能 。不同品牌的计算机进入 BIOS 的方式可能不同，一般在开机时按下 F2、F10、Delete 等键，具体按键可参考计算机的用户手册 。在 BIOS 设置中，找到 “Virtualization Technology” 或 “VT-x”（Intel）&#x2F;“AMD-V”（AMD）选项，将其设置为 “Enabled” 启用，然后保存并退出 BIOS 。</p>
</li>
<li><p><strong>安装 WSL 2</strong>：WSL（Windows Subsystem for Linux）是 Windows 的一个功能，允许你在 Windows 上运行 Linux 二进制可执行文件 。Docker Desktop 依赖 WSL 2 作为后端引擎，因此需要先安装 WSL 2 。以管理员身份运行 PowerShell，执行<code>wsl --install</code>命令，该命令会自动安装最新版本的 WSL 及其核心组件，并设置 WSL 2 为默认版本 。安装完成后，重启计算机 。如果执行<code>wsl --install</code>命令时提示错误，可能是因为系统版本不支持或其他原因。你可以尝试手动安装 WSL 2，具体步骤如下：首先，下载适用于 Linux 的内核更新包，下载地址：<a target="_blank" rel="noopener" href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">http</a><a target="_blank" rel="noopener" href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">s:&#x2F;&#x2F;w</a><a target="_blank" rel="noopener" href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">slsto</a><a target="_blank" rel="noopener" href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">resto</a><a target="_blank" rel="noopener" href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">rage.</a><a target="_blank" rel="noopener" href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">blob.</a><a target="_blank" rel="noopener" href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">core.</a><a target="_blank" rel="noopener" href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">windo</a><a target="_blank" rel="noopener" href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">ws.ne</a><a target="_blank" rel="noopener" href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">t&#x2F;wsl</a><a target="_blank" rel="noopener" href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">blob&#x2F;</a><a target="_blank" rel="noopener" href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">wsl_u</a><a target="_blank" rel="noopener" href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">pdate</a><a target="_blank" rel="noopener" href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">_x64.</a><a target="_blank" rel="noopener" href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">msi</a> 。下载完成后，运行安装包进行安装 。然后，以管理员身份运行 PowerShell，执行<code>wsl --set-default-version 2</code>命令，设置 WSL 2 为默认版本 。</p>
</li>
<li><p><strong>下载 Docker Desktop</strong>：访问 Docker 官网下载页面（<a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">ht</a><a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">tps:&#x2F;</a><a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">&#x2F;www.</a><a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">docke</a><a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">r.com</a><a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">&#x2F;prod</a><a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">ucts&#x2F;</a><a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">docke</a><a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">r-des</a><a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">ktop&#x2F;</a>），点击 “Download for Windows” 按钮，下载最新版本的 Docker Desktop 安装程序 。</p>
</li>
<li><p><strong>安装 Docker Desktop</strong>：找到下载的安装文件（通常在 “下载” 文件夹中），双击安装文件，启动安装向导 。在安装过程中，按照提示进行操作，建议保留默认设置 。在 “Configuration” 页面，确保选择 “Use the WSL 2 based engine” 选项，以使用 WSL 2 作为容器后端 。安装完成后，可能需要重启计算机 。</p>
</li>
<li><p><strong>验证安装</strong>：打开命令提示符（CMD）或 PowerShell，输入<code>docker --version</code>命令，验证 Docker 是否安装成功 。如果安装成功，该命令将输出当前安装的 Docker 版本信息，例如 “Docker version 24.0.6, build ed223bc” 。你还可以运行<code>docker run hello-world</code>命令来测试 Docker 是否正常工作 。该命令会从 Docker Hub 下载一个测试镜像，并在容器中运行它 。如果一切顺利，你将看到 “Hello from Docker!” 的输出信息，表明 Docker 已成功安装并可以正常使用 。</p>
</li>
</ol>
<p>在安装过程中，可能会遇到一些问题，比如虚拟化未开启、缺少 WSL 2 工具等。针对这些问题，可以参考以下解决方案：</p>
<ul>
<li><p><strong>虚拟化未开启</strong>：如果在安装 Docker Desktop 时提示虚拟化未开启，按照上述 “检查系统要求” 步骤中提到的方法，进入 BIOS 或 UEFI 设置中启用虚拟化功能 。</p>
</li>
<li><p><strong>缺少 WSL 2 工具</strong>：如果提示缺少 WSL 2 工具，按照上述 “安装 WSL 2” 步骤中提到的方法，安装 WSL 2 。</p>
</li>
<li><p><strong>安装过程中出现其他错误</strong>：如果在安装过程中出现其他错误，可以查看 Docker Desktop 的安装日志，日志文件位于 “C:\Users\ 你的用户名 \AppData\Local\Docker\log” 目录下 。根据日志文件中的错误信息，在 Docker 官方文档或社区论坛中查找解决方案 。</p>
</li>
</ul>
<h3 id="Linux-系统安装（以-Ubuntu-为例）"><a href="#Linux-系统安装（以-Ubuntu-为例）" class="headerlink" title="Linux 系统安装（以 Ubuntu 为例）"></a>Linux 系统安装（以 Ubuntu 为例）</h3><p>在 Ubuntu 系统中，安装 Docker 也非常简单，只需要几个命令即可完成 。以下是具体的安装步骤：</p>
<ol>
<li><strong>更新软件包列表</strong>：在安装 Docker 之前，首先需要更新系统的软件包列表，以获取最新的软件包信息 。打开终端，运行以下命令：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure>



<ol>
<li><strong>安装依赖</strong>：Docker 依赖一些必要的软件包，我们需要先安装它们 。运行以下命令：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install apt-transport-https ca-certificates curl gnupg lsb-release</span><br></pre></td></tr></table></figure>

<p>其中，<code>apt-transport-https</code>允许<code>apt</code>包管理器通过 HTTPS 协议与软件源进行通信；<code>ca-certificates</code>包含了根证书，用于验证 SSL&#x2F;TLS 连接的安全性；<code>curl</code>是一个命令行工具，用于通过 URL 下载文件；<code>gnupg</code>是一个用于加密和签名的工具；<code>lsb-release</code>用于显示系统的发行版信息 。</p>
<p>3. <strong>添加 GPG 密钥</strong>：为了确保从 Docker 官方仓库下载的软件包的完整性和安全性，我们需要添加 Docker 官方的 GPG 密钥 。运行以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg</span><br></pre></td></tr></table></figure>



<ol>
<li><strong>添加软件源</strong>：将 Docker 官方的软件源添加到系统的软件源列表中，以便系统能够从该源下载 Docker 软件包 。运行以下命令：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;deb \[arch=\$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \$(lsb\_release -cs) stable&quot; | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br></pre></td></tr></table></figure>



<ol>
<li><strong>再次更新软件包列表</strong>：添加软件源后，需要再次更新软件包列表，使系统能够识别新添加的软件源 。运行以下命令：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure>



<ol>
<li><strong>安装 Docker 引擎</strong>：现在可以安装 Docker 引擎了，运行以下命令：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin</span><br></pre></td></tr></table></figure>

<p>其中，<code>docker-ce</code>是 Docker 社区版的核心引擎；<code>docker-ce-cli</code>是 Docker 的命令行工具；<code>containerd.io</code>是一个开源的容器运行时；<code>docker-compose-plugin</code>是用于定义和运行多容器 Docker 应用程序的插件 。</p>
<p>7. <strong>验证安装</strong>：安装完成后，可以通过查看 Docker 的版本信息和运行测试镜像来验证安装是否成功 。运行以下命令查看版本信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker --version</span><br></pre></td></tr></table></figure>

<p>运行以下命令运行测试镜像：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run hello-world</span><br></pre></td></tr></table></figure>

<p>如果安装成功，运行<code>docker --version</code>命令会输出 Docker 的版本号，运行<code>sudo docker run hello-world</code>命令会下载一个测试镜像并在容器中运行它，输出 “Hello from Docker!” 等信息 。</p>
<h3 id="MacOS-系统安装"><a href="#MacOS-系统安装" class="headerlink" title="MacOS 系统安装"></a>MacOS 系统安装</h3><p>在 MacOS 系统上，我们同样可以通过安装 Docker Desktop 来使用 Docker 。以下是具体的安装步骤：</p>
<ol>
<li><p><strong>下载 Docker Desktop</strong>：打开浏览器，访问 Docker 官网下载页面（<a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">http</a><a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">s:&#x2F;&#x2F;w</a><a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">ww.do</a><a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">cker.</a><a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">com&#x2F;p</a><a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">roduc</a><a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">ts&#x2F;do</a><a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">cker-</a><a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">deskt</a><a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">op&#x2F;</a>），点击 “Download for Mac” 按钮，下载最新版本的 Docker Desktop 安装程序 。</p>
</li>
<li><p><strong>安装 Docker Desktop</strong>：下载完成后，双击下载的<code>.dmg</code>文件，将 Docker 图标拖放到 “应用程序” 文件夹中，完成安装 。</p>
</li>
<li><p><strong>启动 Docker Desktop</strong>：打开 “应用程序” 文件夹，找到 Docker 并双击打开 。首次启动时，可能会要求输入你的 MacOS 账号密码以授权 。</p>
</li>
<li><p><strong>基本配置</strong>：启动 Docker Desktop 后，可以根据自己的需求进行一些基本配置 。点击菜单栏中的 Docker 图标，选择 “Preferences”，在弹出的窗口中可以进行以下配置：</p>
</li>
</ol>
<ul>
<li><p><strong>Resources</strong>：在这里可以分配给 Docker 的 CPU、内存和磁盘空间等资源 。根据实际需求合理调整这些参数，以确保 Docker 能够在你的系统上稳定运行 。例如，如果你的项目对内存要求较高，可以适当增加分配给 Docker 的内存大小 。</p>
</li>
<li><p><strong>Network</strong>：设置 Docker 的网络模式 。默认情况下，Docker 会创建一个桥接网络，容器可以通过该网络与主机和其他容器进行通信 。如果你的项目有特殊的网络需求，也可以在这里进行自定义设置 。</p>
</li>
<li><p><strong>Docker Engine</strong>：手动配置 Docker 引擎的 JSON 设置 。一般情况下，保持默认设置即可 。但如果你对 Docker 的运行机制有深入了解，并且有特定的配置需求，也可以在这里进行修改 。</p>
</li>
</ul>
<ol>
<li><strong>验证安装</strong>：打开终端（Terminal），输入<code>docker --version</code>命令，验证 Docker 是否安装成功 。如果安装成功，该命令将输出当前安装的 Docker 版本信息 。你还可以运行<code>docker run hello-world</code>命令来测试 Docker 是否正常工作 。如果一切顺利，你将看到 “Hello from Docker!” 的输出信息，表明 Docker 已成功安装并可以正常使用 。</li>
</ol>
<h2 id="Docker-基本使用"><a href="#Docker-基本使用" class="headerlink" title="Docker 基本使用"></a>Docker 基本使用</h2><p>在掌握了 Docker 的安装方法后，接下来让我们深入了解 Docker 的基本使用方法，包括镜像操作、容器操作和数据管理等方面，这些操作是使用 Docker 进行应用部署和管理的基础 。</p>
<h3 id="镜像操作"><a href="#镜像操作" class="headerlink" title="镜像操作"></a>镜像操作</h3><ul>
<li><strong>下载镜像</strong>：Docker Hub 是一个公共的镜像仓库，我们可以使用<code>docker pull</code>命令从 Docker Hub 下载镜像 。例如，要下载最新版本的 Nginx 镜像，可以执行以下命令：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull nginx</span><br></pre></td></tr></table></figure>

<p>在上述命令中，如果不指定具体的版本标签，<code>docker pull</code>命令会默认下载镜像的<code>latest</code>标签版本，即最新版本 。如果需要下载特定版本的镜像，可以在镜像名称后加上版本标签，例如下载 Nginx 的 1.23.1 版本镜像，命令如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull nginx:1.23.1</span><br></pre></td></tr></table></figure>



<ul>
<li><strong>构建自定义镜像</strong>：当官方提供的镜像无法满足我们的需求时，就需要基于<code>Dockerfile</code>来构建自定义镜像 。<code>Dockerfile</code>是一个文本文件，其中包含了一系列用于构建镜像的指令和操作步骤 。例如，我们要构建一个基于 Python 3.11 的 Web 应用镜像，假设<code>Dockerfile</code>的内容如下：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">\# 使用官方Python 3.11镜像作为基础镜像</span><br><span class="line"></span><br><span class="line">FROM python:3.11-slim</span><br><span class="line"></span><br><span class="line">\# 设置工作目录为/app</span><br><span class="line"></span><br><span class="line">WORKDIR /app</span><br><span class="line"></span><br><span class="line">\# 将当前目录下的所有文件复制到容器的/app目录中</span><br><span class="line"></span><br><span class="line">COPY. /app</span><br><span class="line"></span><br><span class="line">\# 安装项目依赖，假设项目依赖文件为requirements.txt</span><br><span class="line"></span><br><span class="line">RUN pip install -r requirements.txt</span><br><span class="line"></span><br><span class="line">\# 暴露容器的8000端口，用于Web应用的访问</span><br><span class="line"></span><br><span class="line">EXPOSE 8000</span><br><span class="line"></span><br><span class="line">\# 设置容器启动时执行的命令，假设启动Web应用的命令为python main.py</span><br><span class="line"></span><br><span class="line">CMD \[&quot;python&quot;, &quot;main.py&quot;]</span><br></pre></td></tr></table></figure>

<p>在包含上述<code>Dockerfile</code>的目录下，执行以下命令来构建镜像：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t my-python-web-app.</span><br></pre></td></tr></table></figure>

<p>在这个命令中，<code>-t</code>参数用于指定镜像的标签，格式为<code>[仓库名/][镜像名]:[标签]</code> ，这里<code>my-python-web-app</code>就是我们给镜像指定的名称和标签 。最后的<code>.</code>表示构建上下文为当前目录，即<code>Dockerfile</code>所在的目录，Docker 会在这个目录及其子目录中查找构建镜像所需的文件 。</p>
<ul>
<li><strong>查看本地镜像列表</strong>：使用<code>docker images</code>命令可以查看本地已经下载或构建的镜像列表，命令执行结果会显示镜像的仓库名、标签、镜像 ID、创建时间和大小等信息 ，例如：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure>

<p>执行上述命令后，可能得到类似如下的输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line"></span><br><span class="line">nginx               latest              d1a364dc548d        3 weeks ago         133MB</span><br><span class="line"></span><br><span class="line">my-python-web-app   latest              9c87f97e2f34        1 hour ago          256MB</span><br></pre></td></tr></table></figure>

<p>从输出结果中，我们可以清晰地看到本地已有的镜像信息，方便我们对镜像进行管理和使用 。</p>
<ul>
<li><strong>删除镜像</strong>：当某个镜像不再需要时，可以使用<code>docker rmi</code>命令将其删除 。例如，要删除<code>my-python-web-app:latest</code>这个镜像，可以执行以下命令：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rmi my-python-web-app:latest</span><br></pre></td></tr></table></figure>

<p>如果要删除多个镜像，可以在命令后依次列出镜像的名称和标签，或者使用镜像 ID 进行删除 。需要注意的是，如果某个镜像正在被容器使用，直接删除该镜像会失败，需要先停止并删除依赖该镜像的容器，然后才能删除镜像 。</p>
<h3 id="容器操作"><a href="#容器操作" class="headerlink" title="容器操作"></a>容器操作</h3><ul>
<li><strong>创建并运行容器</strong>：使用<code>docker run</code>命令可以创建并运行一个容器 。该命令的基本语法为<code>docker run [OPTIONS] IMAGE [COMMAND] [ARG]</code> ，其中<code>OPTIONS</code>是可选参数，<code>IMAGE</code>是指定的镜像名称，<code>COMMAND</code>是容器启动时要执行的命令，<code>ARG</code>是传递给命令的参数 。例如，基于 Nginx 镜像创建并运行一个容器，将容器的 80 端口映射到主机的 8080 端口，命令如下：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 8080:80 --name my-nginx nginx</span><br></pre></td></tr></table></figure>

<p>在这个命令中：</p>
<ul>
<li><p><code>-d</code>参数表示以守护（后台）模式运行容器，容器会在后台运行，不会占用当前终端 。</p>
</li>
<li><p><code>-p 8080:80</code>表示将主机的 8080 端口映射到容器的 80 端口，这样通过访问主机的 8080 端口，就可以访问到容器内 Nginx 服务的 80 端口 。</p>
</li>
<li><p><code>--name my-nginx</code>为容器指定一个名称<code>my-nginx</code>，方便后续对容器进行管理和操作 。</p>
</li>
<li><p><code>nginx</code>是要使用的镜像名称 。</p>
</li>
<li><p><strong>查看正在运行的容器</strong>：使用<code>docker ps</code>命令可以查看当前正在运行的容器列表，命令执行结果会显示容器的 ID、使用的镜像、启动命令、创建时间、状态、端口映射和容器名称等信息 ，例如：</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure>

<p>执行上述命令后，可能得到类似如下的输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CONTAINER ID   IMAGE     COMMAND                  CREATED          STATUS          PORTS                                   NAMES</span><br><span class="line"></span><br><span class="line">7f37a8c9c8c8   nginx     &quot;/docker-entrypoint.…&quot;   5 minutes ago    Up 5 minutes    0.0.0.0:8080-&gt;80/tcp, :::8080-&gt;80/tcp   my-nginx</span><br></pre></td></tr></table></figure>

<p>从输出结果中，我们可以清楚地了解正在运行的容器的各项信息 。如果要查看所有容器（包括已停止的容器），可以使用<code>docker ps -a</code>命令 。</p>
<ul>
<li><strong>停止容器</strong>：当需要停止正在运行的容器时，可以使用<code>docker stop</code>命令，后面跟上容器的 ID 或名称 。例如，停止名为<code>my-nginx</code>的容器，命令如下：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop my-nginx</span><br></pre></td></tr></table></figure>

<p>执行该命令后，容器会被优雅地停止，即容器内的应用程序会收到停止信号，有机会进行一些清理工作后再停止运行 。</p>
<ul>
<li><strong>启动已停止的容器</strong>：对于已经停止的容器，可以使用<code>docker start</code>命令来重新启动它，同样后面跟上容器的 ID 或名称 。例如，启动名为<code>my-nginx</code>的容器，命令如下：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker start my-nginx</span><br></pre></td></tr></table></figure>



<ul>
<li><strong>进入正在运行的容器内部</strong>：有时候我们需要进入正在运行的容器内部，执行一些命令或进行调试等操作，可以使用<code>docker exec</code>命令 。例如，进入名为<code>my-nginx</code>的容器，并启动一个交互式的<code>bash</code> shell，命令如下：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it my-nginx bash</span><br></pre></td></tr></table></figure>

<p>在这个命令中，<code>-i</code>参数表示保持标准输入流打开，允许我们向容器内输入命令；<code>-t</code>参数表示为容器分配一个伪终端，使我们能够在终端中与容器进行交互 。执行上述命令后，我们就可以在容器内部执行各种命令，就像在容器所在的主机上操作一样 。</p>
<h3 id="数据管理"><a href="#数据管理" class="headerlink" title="数据管理"></a>数据管理</h3><ul>
<li><p><strong>数据卷的概念和作用</strong>：在 Docker 中，容器的存储是临时的，当容器被删除时，容器内的数据也会随之丢失 。为了解决数据持久化存储和共享的问题，Docker 引入了数据卷（Volume）的概念 。数据卷是一个可供容器使用的特殊目录，它将主机操作系统目录直接映射进容器，或者由 Docker 管理一个存储区域并挂载到容器中 。数据卷具有以下特点：</p>
<ul>
<li><p><strong>数据持久化</strong>：即使容器被删除，数据卷中的数据仍然会保留，不会丢失 。</p>
</li>
<li><p><strong>容器间共享</strong>：多个容器可以挂载同一个数据卷，实现数据的共享和传递 。</p>
</li>
<li><p><strong>读写性能高</strong>：数据卷直接绕过 Union File System，对数据卷的读写操作性能较高 。</p>
</li>
</ul>
</li>
<li><p><strong>创建数据卷</strong>：使用<code>docker volume create</code>命令可以创建一个数据卷 。例如，创建一个名为<code>my-data-volume</code>的数据卷，命令如下：</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume create my-data-volume</span><br></pre></td></tr></table></figure>

<p>执行该命令后，Docker 会在主机上创建一个用于存储数据卷的目录，并生成一个唯一的数据卷 ID 。我们可以使用<code>docker volume ls</code>命令查看所有已创建的数据卷列表，使用<code>docker volume inspect my-data-volume</code>命令查看指定数据卷的详细信息，包括数据卷的名称、驱动、挂载点等 。</p>
<ul>
<li><strong>挂载数据卷到容器</strong>：在使用<code>docker run</code>命令创建容器时，可以通过<code>-v</code>或<code>--mount</code>参数将数据卷挂载到容器中 。例如，创建一个基于 Nginx 镜像的容器，并将名为<code>my-data-volume</code>的数据卷挂载到容器的<code>/usr/share/nginx/html</code>目录下，命令如下：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 8080:80 --name my-nginx -v my-data-volume:/usr/share/nginx/html nginx</span><br></pre></td></tr></table></figure>

<p>或者使用<code>--mount</code>参数的方式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 8080:80 --name my-nginx --mount source=my-data-volume,target=/usr/share/nginx/html nginx</span><br></pre></td></tr></table></figure>

<p>这两种方式的效果是相同的，都是将<code>my-data-volume</code>数据卷挂载到容器的<code>/usr/share/nginx/html</code>目录，使得容器内该目录下的数据实际上存储在数据卷中 。这样，当容器被删除并重新创建时，只要挂载相同的数据卷，容器内<code>/usr/share/nginx/html</code>目录下的数据仍然会保留 。同时，如果有多个容器都挂载了同一个数据卷，它们之间就可以共享该数据卷中的数据 。</p>
<h2 id="实战演练"><a href="#实战演练" class="headerlink" title="实战演练"></a>实战演练</h2><p>为了更直观地感受 Docker 的强大功能和便捷性，我们通过一个具体的实战案例来深入了解它的使用方法。在这个案例中，我们将使用 Docker 部署一个简单的 Flask Web 应用 。Flask 是一个轻量级的 Python Web 框架，非常适合用于快速开发小型 Web 应用 。通过这个实战，你将掌握如何使用 Docker 构建、运行和管理一个 Web 应用容器 。</p>
<h3 id="项目准备"><a href="#项目准备" class="headerlink" title="项目准备"></a>项目准备</h3><ol>
<li><strong>创建项目目录</strong>：首先，在你的计算机上创建一个新的项目目录，例如<code>flask - docker - demo</code>，并进入该目录 。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir flask - docker - demo</span><br><span class="line"></span><br><span class="line">cd flask - docker - demo</span><br></pre></td></tr></table></figure>



<ol>
<li><strong>初始化 Python 虚拟环境（可选）</strong>：为了避免项目依赖与系统环境冲突，建议在项目目录下创建一个 Python 虚拟环境 。如果你还没有安装<code>virtualenv</code>，可以使用以下命令进行安装（假设你已经安装了 Python）：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install virtualenv</span><br></pre></td></tr></table></figure>

<p>创建并激活虚拟环境：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">virtualenv venv</span><br><span class="line"></span><br><span class="line">source venv/bin/activate  # Windows下使用 \`venv\Scripts\activate\`</span><br></pre></td></tr></table></figure>



<ol>
<li><strong>安装 Flask</strong>：在激活的虚拟环境中，使用<code>pip</code>安装 Flask：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install flask</span><br></pre></td></tr></table></figure>



<ol>
<li><strong>编写 Flask 应用代码</strong>：使用你喜欢的文本编辑器，在项目目录下创建一个名为<code>app.py</code>的文件，并编写以下 Flask 应用代码：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">from flask import Flask</span><br><span class="line"></span><br><span class="line">app = Flask(\_\_name\_\_)</span><br><span class="line"></span><br><span class="line">@app.route(&#x27;/&#x27;)</span><br><span class="line"></span><br><span class="line">def hello\_world():</span><br><span class="line"></span><br><span class="line">&amp;#x20;   return &#x27;Hello, Docker!&#x27;</span><br><span class="line"></span><br><span class="line">if \_\_name\_\_ == &#x27;\_\_main\_\_&#x27;:</span><br><span class="line"></span><br><span class="line">&amp;#x20;   app.run(host=&#x27;0.0.0.0&#x27;, port=5000)</span><br></pre></td></tr></table></figure>

<p>这段代码创建了一个简单的 Flask 应用，定义了一个根路由<code>/</code>，当访问该路由时，返回<code>Hello, Docker!</code> 。<code>app.run(host=&#39;``0.0.0.0``&#39;, port=5000)</code>表示应用监听在 0.0.0.0 地址的 5000 端口上，这样可以通过宿主机的 IP 地址和 5000 端口来访问该应用 。</p>
<h3 id="编写-Dockerfile"><a href="#编写-Dockerfile" class="headerlink" title="编写 Dockerfile"></a>编写 Dockerfile</h3><p>接下来，我们需要编写一个<code>Dockerfile</code>来定义如何构建我们的 Docker 镜像 。在项目目录下创建一个名为<code>Dockerfile</code>的文件（注意文件名大小写，且没有文件扩展名），并写入以下内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">\# 使用官方Python 3.11镜像作为基础镜像</span><br><span class="line"></span><br><span class="line">FROM python:3.11 - slim</span><br><span class="line"></span><br><span class="line">\# 设置工作目录为/app</span><br><span class="line"></span><br><span class="line">WORKDIR /app</span><br><span class="line"></span><br><span class="line">\# 将当前目录下的所有文件复制到容器的/app目录中</span><br><span class="line"></span><br><span class="line">COPY. /app</span><br><span class="line"></span><br><span class="line">\# 安装项目依赖，假设项目依赖文件为requirements.txt，这里直接安装Flask</span><br><span class="line"></span><br><span class="line">RUN pip install flask</span><br><span class="line"></span><br><span class="line">\# 暴露容器的5000端口，用于Web应用的访问</span><br><span class="line"></span><br><span class="line">EXPOSE 5000</span><br><span class="line"></span><br><span class="line">\# 设置容器启动时执行的命令，运行Flask应用</span><br><span class="line"></span><br><span class="line">CMD \[&quot;python&quot;, &quot;app.py&quot;]</span><br></pre></td></tr></table></figure>

<p>这个<code>Dockerfile</code>的具体解释如下：</p>
<ul>
<li><p><code>FROM python:3.11 - slim</code>：指定使用官方的 Python 3.11 精简版镜像作为基础镜像，该镜像包含了 Python 3.11 运行环境，且体积相对较小 。</p>
</li>
<li><p><code>WORKDIR /app</code>：设置容器内的工作目录为<code>/app</code>，后续的操作将在这个目录下进行 。</p>
</li>
<li><p><code>COPY. /app</code>：将当前目录（即项目目录<code>flask - docker - demo</code>）下的所有文件复制到容器的<code>/app</code>目录中 。</p>
</li>
<li><p><code>RUN pip install flask</code>：在容器内运行<code>pip install flask</code>命令，安装 Flask 及其依赖项 。</p>
</li>
<li><p><code>EXPOSE 5000</code>：声明容器内的应用将监听 5000 端口，这只是一个声明，并不实际进行端口映射 。</p>
</li>
<li><p><code>CMD [&quot;python&quot;, &quot;``app.py``&quot;]</code>：指定容器启动时执行的命令，这里是运行<code>app.py</code>文件来启动 Flask 应用 。</p>
</li>
</ul>
<h3 id="构建-Docker-镜像"><a href="#构建-Docker-镜像" class="headerlink" title="构建 Docker 镜像"></a>构建 Docker 镜像</h3><p>在包含<code>Dockerfile</code>和<code>app.py</code>的项目目录下，打开终端，执行以下命令来构建 Docker 镜像：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t flask - app.</span><br></pre></td></tr></table></figure>

<p>在这个命令中：</p>
<ul>
<li><p><code>-t</code>参数用于指定镜像的标签，格式为<code>[仓库名/][镜像名]:[标签]</code> ，这里我们将镜像命名为<code>flask - app</code>，并使用默认的<code>latest</code>标签 。</p>
</li>
<li><p>最后的<code>.</code>表示构建上下文为当前目录，即<code>Dockerfile</code>所在的目录，Docker 会在这个目录及其子目录中查找构建镜像所需的文件 。</p>
</li>
</ul>
<p>执行构建命令后，Docker 会读取<code>Dockerfile</code>中的指令，逐步构建镜像 。在构建过程中，你会看到一系列的输出信息，显示每个步骤的执行情况 。如果构建成功，最终会显示<code>Successfully tagged flask - app:latest</code>，表示镜像构建完成，并打上了<code>flask - app:latest</code>的标签 。</p>
<h3 id="运行-Docker-容器"><a href="#运行-Docker-容器" class="headerlink" title="运行 Docker 容器"></a>运行 Docker 容器</h3><p>镜像构建完成后，我们可以使用<code>docker run</code>命令来运行容器 。在终端中执行以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 8080:5000 --name flask - container flask - app</span><br></pre></td></tr></table></figure>

<p>这个命令的参数解释如下：</p>
<ul>
<li><p><code>-d</code>：表示以守护（后台）模式运行容器，容器会在后台运行，不会占用当前终端 。</p>
</li>
<li><p><code>-p 8080:5000</code>：将主机的 8080 端口映射到容器的 5000 端口，这样通过访问主机的 8080 端口，就可以访问到容器内 Flask 应用监听的 5000 端口 。</p>
</li>
<li><p><code>--name flask - container</code>：为容器指定一个名称<code>flask - container</code>，方便后续对容器进行管理和操作 。</p>
</li>
<li><p><code>flask - app</code>：指定要运行的镜像名称 。</p>
</li>
</ul>
<p>执行上述命令后，Docker 会从<code>flask - app</code>镜像创建一个容器并运行它 。你可以使用<code>docker ps</code>命令查看正在运行的容器列表，确认容器是否成功启动 。如果容器启动成功，在<code>docker ps</code>的输出中，你会看到<code>flask - container</code>容器正在运行，并且端口映射为<code>0.0.0.0:8080``-&gt;5000/tcp</code> 。</p>
<h3 id="访问-Web-应用"><a href="#访问-Web-应用" class="headerlink" title="访问 Web 应用"></a>访问 Web 应用</h3><p>现在，打开你的浏览器，在地址栏中输入<code>http://localhost:8080</code>，如果一切顺利，你将看到浏览器页面上显示<code>Hello, Docker!</code> ，这表明我们使用 Docker 部署的 Flask Web 应用已经成功运行 。</p>
<p>通过这个实战案例，我们展示了使用 Docker 部署一个简单 Web 应用的完整过程，包括项目准备、编写<code>Dockerfile</code>、构建镜像和运行容器 。希望这个案例能帮助你更好地理解和掌握 Docker 的基本使用方法，为你在实际项目中应用 Docker 打下坚实的基础 。</p>
<h2 id="常见问题及解决方法"><a href="#常见问题及解决方法" class="headerlink" title="常见问题及解决方法"></a>常见问题及解决方法</h2><p>在安装和使用 Docker 的过程中，可能会遇到一些问题，下面为大家整理了一些常见问题及对应的解决方法 。</p>
<h3 id="镜像下载缓慢"><a href="#镜像下载缓慢" class="headerlink" title="镜像下载缓慢"></a>镜像下载缓慢</h3><ul>
<li><p><strong>问题描述</strong>：在使用<code>docker pull</code>命令下载镜像时，速度非常慢，甚至可能会出现下载超时的情况 。</p>
</li>
<li><p><strong>原因分析</strong>：Docker 默认使用的是国外的官方镜像源，由于网络原因，国内访问可能会受到限制，导致下载速度缓慢 。</p>
</li>
<li><p><strong>解决方法</strong>：可以通过配置国内的镜像加速器来提高镜像下载速度 。常见的国内镜像加速器有阿里云镜像加速器、网易云镜像加速器、中科大镜像加速器等 。以阿里云镜像加速器为例，配置步骤如下：</p>
<ul>
<li><strong>Windows 系统</strong>：打开 Docker Desktop，点击任务栏中的 Docker 图标，选择 “Settings”，在弹出的窗口中选择 “Docker Engine” 选项卡 。在 “Registry mirrors” 字段中，添加阿里云提供的专属镜像加速地址（需要先登录阿里云容器镜像服务获取），格式如下：</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&amp;#x20; &quot;registry-mirrors&quot;: \[&quot;https://xxxxxx.mirror.aliyuncs.com&quot;]</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>添加完成后，点击右下角的 “Apply &amp; Restart” 按钮，Docker 会自动重启并应用新的镜像源配置 。</p>
<ul>
<li><strong>Linux 系统</strong>：首先，创建或编辑 Docker 的配置文件<code>/etc/docker/daemon.json</code>（如果文件不存在则创建），添加以下内容：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&amp;#x20; &quot;registry-mirrors&quot;: \[&quot;https://xxxxxx.mirror.aliyuncs.com&quot;]</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后，保存文件并执行以下命令使配置生效：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br><span class="line"></span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>

<p>配置完成后，可以使用<code>docker info</code>命令查看配置是否生效，在输出信息中找到 “Registry Mirrors” 字段，确认其值为配置的镜像加速地址 。之后再使用<code>docker pull</code>命令下载镜像，速度应该会有明显提升 。</p>
<h3 id="容器启动失败"><a href="#容器启动失败" class="headerlink" title="容器启动失败"></a>容器启动失败</h3><ul>
<li><p><strong>问题描述</strong>：使用<code>docker run</code>命令启动容器时，容器无法正常启动，可能会出现报错信息 。</p>
</li>
<li><p><strong>原因分析</strong>：容器启动失败的原因可能有很多，常见的包括镜像损坏、容器配置错误、端口冲突、依赖服务未启动等 。</p>
</li>
<li><p><strong>解决方法</strong>：</p>
<ul>
<li><p><strong>检查镜像完整性</strong>：首先，使用<code>docker images</code>命令查看本地镜像列表，确认要启动容器的镜像是否存在且完整 。如果镜像损坏，可以尝试重新下载或重新构建镜像 。例如，如果怀疑<code>nginx:latest</code>镜像有问题，可以先删除该镜像（<code>docker rmi nginx:latest</code>），然后重新下载（<code>docker pull nginx:latest</code>） 。</p>
</li>
<li><p><strong>检查容器配置</strong>：仔细检查<code>docker run</code>命令的参数是否正确，例如端口映射是否合理、容器名称是否重复等 。如果使用了<code>Dockerfile</code>构建镜像并启动容器，还要检查<code>Dockerfile</code>中的指令是否正确，例如工作目录是否设置正确、应用启动命令是否正确等 。</p>
</li>
<li><p><strong>检查端口冲突</strong>：如果在启动容器时指定了端口映射（如<code>-p 8080:80</code>），而该端口在主机上已经被其他进程占用，就会导致容器启动失败 。可以使用<code>netstat</code>命令或<code>lsof</code>命令检查端口占用情况 。以<code>netstat</code>命令为例，在 Linux 系统中，可以执行<code>netstat -tunlp | grep 8080</code>命令查看 8080 端口的占用情况 。如果发现端口被占用，可以修改容器的端口映射，或者停止占用该端口的进程 。</p>
</li>
<li><p><strong>检查依赖服务</strong>：如果容器依赖其他服务（如数据库、消息队列等），确保这些依赖服务已经正常启动并可以被容器访问 。例如，一个 Web 应用容器可能依赖 MySQL 数据库，在启动 Web 应用容器之前，要确保 MySQL 数据库已经正常运行，并且 Web 应用容器的数据库连接配置正确 。可以通过在容器内使用<code>ping</code>命令或其他工具测试对依赖服务的连通性 。如果是因为依赖服务未启动导致容器启动失败，先启动依赖服务，然后再尝试启动容器 。</p>
</li>
</ul>
</li>
</ul>
<h2 id="总结与展望"><a href="#总结与展望" class="headerlink" title="总结与展望"></a>总结与展望</h2><p>通过本文，我们全面了解了 Docker 这一强大的容器化技术，从它的基本概念、安装方法，到镜像操作、容器管理以及数据卷的使用，还通过一个 Flask Web 应用的实战案例，完整地体验了使用 Docker 进行应用部署的流程 。同时，我们也探讨了在使用过程中可能遇到的问题及解决办法 。</p>
<p>Docker 的出现，极大地改变了传统的应用部署和运维模式，它以其环境一致性、快速部署、高效资源利用等优势，成为了现代软件开发和运维的必备工具 。无论是开发个人项目，还是构建企业级的大型应用，Docker 都能为我们提供更加便捷、高效的解决方案 。</p>
<p>对于各位读者，希望你们能将所学的 Docker 知识运用到实际项目中 。在实践的过程中，不断探索 Docker 的更多高级特性和应用场景，例如使用 Docker Compose 进行多容器应用的编排，结合 Kubernetes 实现容器的自动化管理和集群部署等 。相信随着对 Docker 的深入了解和使用，它会为你的工作和学习带来意想不到的便利和效率提升 。</p>
<p>展望未来，随着云计算、大数据、人工智能等技术的不断发展，Docker 作为容器化技术的代表，将在这些领域发挥更加重要的作用 。在云计算中，Docker 将助力实现更加灵活、高效的云原生应用部署和管理；在大数据处理中，Docker 可以为不同的数据处理框架和工具提供统一的运行环境，提高数据处理的效率和可靠性；在人工智能领域，Docker 能够方便地部署和管理深度学习模型，加速模型的训练和推理过程 。可以预见，Docker 的应用前景将更加广阔，它将继续推动技术的创新和发展 。让我们一起期待 Docker 在未来带给我们更多的惊喜！</p>
<blockquote>
<p>（注：文档部分内容可能由 AI 生成）</p>
</blockquote>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.gitmirror.com/wangbin-blog/pic-resources/main/2024/10/avatar.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.gitmirror.com/wangbin-blog/pic-resources/main/2024/10/avatar.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">Think.Wang</div><div class="post-copyright__author_desc">一个上了年纪的猿人</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://www.huhaha.vip/post/83b6163.html">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://www.huhaha.vip/post/83b6163.html')">从“小白”到“大神”，Docker安装使用全攻略</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://www.huhaha.vip/post/83b6163.html"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.huhaha.vip" target="_blank">小王的博客</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/docker/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>docker<span class="tagsPageCount">2</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://gcore.jsdelivr.net/gh/wangbin-blog/pic-resources@main/2025/05/09ed8b99fcad4fc5ab9052c1abec78ce20250520141809442.webp?_r_=e4166e32-555e-f50f-5f6e-6d8aba0cf419" data-sites="wechat,qq"></div><link rel="stylesheet" href="/./css/share.min.css" media="print" onload="this.media='all'"/><script src="/./js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/2f692bcc.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://gcore.jsdelivr.net/gh/wangbin-blog/pic-resources@main/2025/05/a582c2b3b3e14f939b45030cfeffeaa620250520174205573.webp?_r_=27050585-fcea-7159-1b31-0d7afb2caeda" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Windows设置exe或者bat文件开机启动的几种方法</div></div></a></div><div class="next-post pull-right"><a href="/post/6649970a.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://gcore.jsdelivr.net/gh/wangbin-blog/pic-resources@main/2025/05/09ed8b99fcad4fc5ab9052c1abec78ce20250520141809442.webp?_r_=eb725c14-82fa-37f2-084a-b380f6fefdbb" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">挖到宝了！这款免费影视神器，聚合全网资源还能多端同步，错过亏大了！</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/post/f5278042.html" title="docker 离线安装（分步法&amp;一键法）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://gcore.jsdelivr.net/gh/wangbin-blog/pic-resources@main/2025/05/a7ab6c7a592a4d2b998c8b4d71c0fc2420250520112511766.webp?_r_=b05aabe7-bdd6-1078-6a45-0de66efbe27b" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-05-07</div><div class="title">docker 离线安装（分步法&amp;一键法）</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left: 4px">隐私政策</a></div><div class="comment-switch"><span class="first-comment">Twikoo</span><span id="switch-btn"></span><span class="second-comment">Waline</span></div><div class="comment-tips" id="comment-tips"><span>✅ 你无需删除空行，直接评论以获取最佳展示效果</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div><div><div id="waline-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.gitmirror.com/wangbin-blog/pic-resources/main/2024/10/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/24/64e6ce9c507bb.png" alt="status"/></div></div><div class="author-info__description">欢迎来到小王的博客，这是一个专注于技术分享和个人成长的平台。在这里，你可以找到关于编程、操作系统、前端开发等方面的实用文章和教程。无论是初学者还是有一定经验的技术人员，都能从中受益。让我们一起探索技术的世界，共同进步！</div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">Think.Wang</h1><div class="author-info__desc">一个上了年纪的猿人</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/wangbin-blog" target="_blank" title="GitHub"><i class="fab fa-github faa-tada"></i></a></div></div></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://bu.dusays.com/2023/01/13/63c02edf44033.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://bu.dusays.com/2023/05/13/645fa415e8694.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%8E%E2%80%9C%E5%B0%8F%E7%99%BD%E2%80%9D%E5%88%B0%E2%80%9C%E5%A4%A7%E7%A5%9E%E2%80%9D%EF%BC%8CDocker%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E5%85%A8%E6%94%BB%E7%95%A5"><span class="toc-number">1.</span> <span class="toc-text">从“小白”到“大神”，Docker安装使用全攻略</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.1.</span> <span class="toc-text">Docker 是什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%94%A8-Docker"><span class="toc-number">1.2.</span> <span class="toc-text">为什么要用 Docker</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker-%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B"><span class="toc-number">1.3.</span> <span class="toc-text">Docker 安装教程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Windows-%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85"><span class="toc-number">1.3.1.</span> <span class="toc-text">Windows 系统安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85%EF%BC%88%E4%BB%A5-Ubuntu-%E4%B8%BA%E4%BE%8B%EF%BC%89"><span class="toc-number">1.3.2.</span> <span class="toc-text">Linux 系统安装（以 Ubuntu 为例）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MacOS-%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85"><span class="toc-number">1.3.3.</span> <span class="toc-text">MacOS 系统安装</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">1.4.</span> <span class="toc-text">Docker 基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%95%9C%E5%83%8F%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.1.</span> <span class="toc-text">镜像操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.2.</span> <span class="toc-text">容器操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86"><span class="toc-number">1.4.3.</span> <span class="toc-text">数据管理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E6%88%98%E6%BC%94%E7%BB%83"><span class="toc-number">1.5.</span> <span class="toc-text">实战演练</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%87%86%E5%A4%87"><span class="toc-number">1.5.1.</span> <span class="toc-text">项目准备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E5%86%99-Dockerfile"><span class="toc-number">1.5.2.</span> <span class="toc-text">编写 Dockerfile</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E5%BB%BA-Docker-%E9%95%9C%E5%83%8F"><span class="toc-number">1.5.3.</span> <span class="toc-text">构建 Docker 镜像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C-Docker-%E5%AE%B9%E5%99%A8"><span class="toc-number">1.5.4.</span> <span class="toc-text">运行 Docker 容器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE-Web-%E5%BA%94%E7%94%A8"><span class="toc-number">1.5.5.</span> <span class="toc-text">访问 Web 应用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95"><span class="toc-number">1.6.</span> <span class="toc-text">常见问题及解决方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%95%9C%E5%83%8F%E4%B8%8B%E8%BD%BD%E7%BC%93%E6%85%A2"><span class="toc-number">1.6.1.</span> <span class="toc-text">镜像下载缓慢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5"><span class="toc-number">1.6.2.</span> <span class="toc-text">容器启动失败</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%E4%B8%8E%E5%B1%95%E6%9C%9B"><span class="toc-number">1.7.</span> <span class="toc-text">总结与展望</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/7ef7b195.html" title="SSL证书转换：cer转jks，pfx转jks"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://gcore.jsdelivr.net/gh/wangbin-blog/pic-resources@main/2025/05/09ed8b99fcad4fc5ab9052c1abec78ce20250520141809442.webp?_r_=e4166e32-555e-f50f-5f6e-6d8aba0cf419" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SSL证书转换：cer转jks，pfx转jks"/></a><div class="content"><a class="title" href="/post/7ef7b195.html" title="SSL证书转换：cer转jks，pfx转jks">SSL证书转换：cer转jks，pfx转jks</a><time datetime="2025-08-29T02:49:40.859Z" title="发表于 2025-08-29 10:49:40">2025-08-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/6954e087.html" title="开源 LibreTV：一款开源免费的在线视频搜索神器，一键部署私人观影平台"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://gcore.jsdelivr.net/gh/wangbin-blog/pic-resources@main/2025/05/e1600fcbb388445e81bb66906c43a4c320250520112050987.webp?_r_=5d86183d-b452-ad8c-1952-aa5e272bd2b0" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="开源 LibreTV：一款开源免费的在线视频搜索神器，一键部署私人观影平台"/></a><div class="content"><a class="title" href="/post/6954e087.html" title="开源 LibreTV：一款开源免费的在线视频搜索神器，一键部署私人观影平台">开源 LibreTV：一款开源免费的在线视频搜索神器，一键部署私人观影平台</a><time datetime="2025-07-26T01:11:43.528Z" title="发表于 2025-07-26 09:11:43">2025-07-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/6649970a.html" title="挖到宝了！这款免费影视神器，聚合全网资源还能多端同步，错过亏大了！"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://gcore.jsdelivr.net/gh/wangbin-blog/pic-resources@main/2025/05/09ed8b99fcad4fc5ab9052c1abec78ce20250520141809442.webp?_r_=eb725c14-82fa-37f2-084a-b380f6fefdbb" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="挖到宝了！这款免费影视神器，聚合全网资源还能多端同步，错过亏大了！"/></a><div class="content"><a class="title" href="/post/6649970a.html" title="挖到宝了！这款免费影视神器，聚合全网资源还能多端同步，错过亏大了！">挖到宝了！这款免费影视神器，聚合全网资源还能多端同步，错过亏大了！</a><time datetime="2025-07-26T00:51:55.817Z" title="发表于 2025-07-26 08:51:55">2025-07-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/83b6163.html" title="从“小白”到“大神”，Docker安装使用全攻略"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://gcore.jsdelivr.net/gh/wangbin-blog/pic-resources@main/2025/05/a46fa683984846f482034d04dfab203520250520112607639.webp?_r_=174dffd5-1571-044c-b0a7-1fd704a69c64" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="从“小白”到“大神”，Docker安装使用全攻略"/></a><div class="content"><a class="title" href="/post/83b6163.html" title="从“小白”到“大神”，Docker安装使用全攻略">从“小白”到“大神”，Docker安装使用全攻略</a><time datetime="2025-07-25T11:01:01.114Z" title="发表于 2025-07-25 19:01:01">2025-07-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/2f692bcc.html" title="Windows设置exe或者bat文件开机启动的几种方法"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://gcore.jsdelivr.net/gh/wangbin-blog/pic-resources@main/2025/05/a582c2b3b3e14f939b45030cfeffeaa620250520174205573.webp?_r_=27050585-fcea-7159-1b31-0d7afb2caeda" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Windows设置exe或者bat文件开机启动的几种方法"/></a><div class="content"><a class="title" href="/post/2f692bcc.html" title="Windows设置exe或者bat文件开机启动的几种方法">Windows设置exe或者bat文件开机启动的几种方法</a><time datetime="2025-07-25T01:08:39.594Z" title="发表于 2025-07-25 09:08:39">2025-07-25</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By Think.Wang</div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">86</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">17</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">13</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://www.huhaha.vip/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.gitmirror.com/wangbin-blog/pic-resources/main/2024/10/avatar.jpg" alt="博客"/><span class="back-menu-item-text">博客</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://nav.huhaha.vip/" title="导航"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.gitmirror.com/wangbin-blog/pic-resources/main/2024/10/avatar.jpg" alt="导航"/><span class="back-menu-item-text">导航</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://movies.huhaha.vip/" title="娱乐"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.gitmirror.com/wangbin-blog/pic-resources/main/2024/10/avatar.jpg" alt="娱乐"/><span class="back-menu-item-text">娱乐</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://docs.anheyu.com/" title="安知鱼主题"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼主题"/><span class="back-menu-item-text">安知鱼主题</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/AI/" style="font-size: 0.88rem;">AI<sup>28</sup></a><a href="/tags/DotNet/" style="font-size: 0.88rem;">DotNet<sup>7</sup></a><a href="/tags/Hexo/" style="font-size: 0.88rem;">Hexo<sup>5</sup></a><a href="/tags/Linux/" style="font-size: 0.88rem;">Linux<sup>14</sup></a><a href="/tags/MACCMS/" style="font-size: 0.88rem;">MACCMS<sup>2</sup></a><a href="/tags/docker/" style="font-size: 0.88rem;">docker<sup>2</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 0.88rem;">前端<sup>5</sup></a><a href="/tags/%E5%A8%B1%E4%B9%90/" style="font-size: 0.88rem;">娱乐<sup>7</sup></a><a href="/tags/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/" style="font-size: 0.88rem;">实用工具<sup>4</sup></a><a href="/tags/%E5%B0%8F%E6%8A%80%E5%B7%A7/" style="font-size: 0.88rem;">小技巧<sup>2</sup></a><a href="/tags/%E5%B0%8F%E8%AF%B4/" style="font-size: 0.88rem;">小说<sup>2</sup></a><a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 0.88rem;">工具<sup>51</sup></a><a href="/tags/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" style="font-size: 0.88rem;">开发工具<sup>5</sup></a><a href="/tags/%E5%BD%B1%E8%A7%86/" style="font-size: 0.88rem;">影视<sup>4</sup></a><a href="/tags/%E6%BC%AB%E7%94%BB/" style="font-size: 0.88rem;">漫画<sup>2</sup></a><a href="/tags/%E7%B3%BB%E7%BB%9F%E7%BE%8E%E5%8C%96/" style="font-size: 0.88rem;">系统美化<sup>1</sup></a><a href="/tags/%E9%9F%B3%E4%B9%90/" style="font-size: 0.88rem;">音乐<sup>2</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="/./js/fancybox.umd.js"></script><script src="/./js/instantpage.js" type="module"></script><script src="/./js/lazyload.iife.min.js"></script><script src="/./js/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('/./js/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2024 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2024 By 安知鱼 V1.6.14",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 Think.Wang 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(() => {
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://lucent-taiyaki-b3a4e7.netlify.app/.netlify/functions/twikoo',
      region: '',
      onCommentLoaded: () => {
        anzhiyu.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(runFn,0)
    else getScript('/./js/twikoo.all.min.js').then(runFn)
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://lucent-taiyaki-b3a4e7.netlify.app/.netlify/functions/twikoo',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const runFn = () => {
    init();
    
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) anzhiyu.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else {
      loadTwikoo()
    }
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script><script>(() => {
  let initFn = window.walineFn || null

  const initWaline = (Fn) => {
    const waline = Fn(Object.assign({
      el: '#waline-wrap',
      serverURL: 'https://blog-waline-m9oa0dc1f-wangbins-projects.vercel.app/',
      pageview: false,
      dark: 'html[data-theme="dark"]',
      path: window.location.pathname,
      comment: false,
      imageUploader: true,
    }, null))

    const destroyWaline = () => {
      waline.destroy()
    }

    anzhiyu.addGlobalFn('pjax', destroyWaline, 'destroyWaline')
  }

  const loadWaline = async () => {
    if (initFn) initWaline(initFn)
    else {
      await getCSS('/./css/waline.css')
      if (false) await getCSS('https://cdn.cbd.int/@waline/client@3.1.3/dist/waline-meta.css')
      const { init } = await import('/./js/waline.js')
      initFn = init || Waline.init
      initWaline(initFn)
      window.walineFn = initFn
    }
  }

  if ('Twikoo' === 'Waline' || !true) {
    if (true) anzhiyu.loadComment(document.getElementById('waline-wrap'),loadWaline)
    else setTimeout(loadWaline, 0)
  } else {
    window.loadOtherComment = loadWaline
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://lucent-taiyaki-b3a4e7.netlify.app/.netlify/functions/twikoo',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('/./js/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'><div class='name'><span>${array[i].nick} </span></div></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script>var visitorMail = "";
</script><script async data-pjax src="/./js/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="/./css/ali_iconfont_css.css"><link rel="stylesheet" href="/./css/APlayer.min.css" media="print" onload="this.media='all'"><script src="/./js/APlayer.min.js"></script><script src="/./js/Meting2.min.js"></script><script src="/./js/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","meta[property=\"og:type\"]","meta[property=\"og:site_name\"]","meta[property=\"og:description\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="/./js/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>